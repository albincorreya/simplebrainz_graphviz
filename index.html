<!DOCTYPE html>
		<meta charset="utf-8">
		<!-- Optimized from http://biohackathon.org/d3sparql/d3sparql.html -->
		<html>
		<head>
		<!--<link rel="stylesheet" type="text/css" href="index.css">-->
			<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<title>simplebrainz.org</title>
		</head>
		<script src="https://d3js.org/d3.v3.min.js"></script>
		<script src="./src/d3sparql.js"></script>
		<script src="./parser.js"></script>>
			<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
		<script src="./test.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<script>
		///*
			//d3.select("body").append("p").text("Get the links");
			var outputJSON; //global variable
			var config = {
	        "charge": -300,
	        "distance": 150,
	        "width": 1000,
	        "height": 750,
	        "selector": "#result"
	      };
			
			function onclickSearch(){
				//var endpoint ="http://localhost:8890/sparql";
				//var query = "select ?s ?p ?o WHERE {{<http://simplebrainz.org/song/b153e1a6-a1ee-4666-9deb-93369348bd4e#_> ?p ?o} UNION {?s ?p <http://simplebrainz.org/song/b153e1a6-a1ee-4666-9deb-93369348bd4e#_>}}";
				var endpoint = "https://dbpedia.org/sparql";
				var query = "SELECT * WHERE{ ?s ?p ?o} LIMIT 50";
				//var query = "PREFIX rank:<http://www.ontotext.com/owlim/RDFRank#> SELECT ?n WHERE {?n rank:hasRDFRank ?r } ORDER BY DESC(?r) LIMIT 100";
				var url = endpoint + "?query=" + encodeURIComponent(query);
				var format = "application/sparql-results+json";
				//var format = "application/json";	
				d3.xhr(url, format, function(request) {
	    		outputJSON = JSON.parse(request.responseText);
					window.alert("Successful request!");
	  		})
			}
			
			//var endpoint = "http://dbpedia.org/sparql";
			//var query = "SELECT * WHERE{ ?a ?b ?c} LIMIT 10";

			/*
			var format = "application/sparql-results+json";
			var params={"default-graph": "", "query": query,"debug": "on", "format": format,"save": "display"};

			var querypart="";
			for(var k in params) {
				querypart+=k+"="+encodeURIComponent(params[k])+"&";
			}
		
			var queryUrl = endpoint + '?' + querypart;
			*/
			function sampleGraph(){d3sparql.forcegraph(outputJSON,config);};
			
		</script>

  <body>
    <div id="query" style="margin: 8px">
      <h1>Simplebrainz Browser</h1>
      <form class="form-inline">
        <label>SPARQL:</label>
        <div class="input-append">
          <!--<input id="endpoint" <col>ass="span5" value="" type="text">-->
		<textarea></textarea>
		<button class="btn" type="button" onclick="toggle()"><i id="button" class="icon-chevron-up"></i></button>
          <button class="btn" type="button" onclick="onclickSearch()">Query</button>
		<button class="btn" type="button" onclick="sampleGraph()">Get sample</button>   
        </div>
      </form>
    </div>
    <div id="result"></div>
  </body>
</html>
